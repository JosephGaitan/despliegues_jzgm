# Archivo: backend/.htaccess

<IfModule mod_headers.c>
    # Permitir acceso desde cualquier origen (Frontend Render)
    Header always set Access-Control-Allow-Origin "*"
    
    # Permitir los métodos que usamos (GET para listar, POST para crear/borrar/editar)
    Header always set Access-Control-Allow-Methods "POST, GET, OPTIONS, DELETE, PUT"
    
    # Permitir encabezados necesarios para JSON
    Header always set Access-Control-Allow-Headers "x-requested-with, Content-Type, origin, authorization, accept, client-security-token"
</IfModule>

<IfModule mod_rewrite.c>
    # Truco para responder OK (200) a las peticiones OPTIONS (Preflight) del navegador
    # Esto evita que Apache bloquee la petición antes de que llegue a PHP
    RewriteEngine On
    RewriteCond %{REQUEST_METHOD} OPTIONS
    RewriteRule ^(.*)$ $1 [R=200,L]
</IfModule>